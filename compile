#!/usr/bin/coffee

fs = require 'fs'

compile = require './src/compile'

unless process.argv[2] and /\.lmb$/.test process.argv[2]
  console.log 'Usage: ./compile <input.lmb>'
  process.exit

input = process.argv[2]
output = input[...-4] + '.gcc'

code = fs.readFileSync input
  .toString()

fs.writeFileSync output, compile code
